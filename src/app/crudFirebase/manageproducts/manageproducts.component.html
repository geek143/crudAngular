<section class="mt-5">
  <div class="container">
    <h1 class="text-center">Manage Products</h1>
    <hr>
    <div class="row">
      <div class="col-md-6">
         <h2 class="text-success">Add Products</h2>
         <form class="bg-light p-3">
          <div class="form-group">
            <label for="pid">Product ID</label>
            <input type="text" class="form-control" id="pid" #pid>
          </div>
          <div class="form-group">
            <label for="name">Product Name</label>
            <input type="text" class="form-control" id="name" #name>
          </div>
          <div class="form-group">
            <label for="price">Product Price</label>
            <input type="text" class="form-control" id="price" #price>
          </div>
          <button type="button" class="btn btn-primary" (click)="addProduct(pid,name,price)" >{{editMode ? 'Update Product' : 'Add Products'}}</button>
          <button type="button" class="btn btn-success mx-2" (click)="saveProducts()">Save Product</button>
          <button type="button" class="btn btn-warning" (click)="fetchProduct()">Fetch Product</button>
        </form>
      </div>

      <div class="col-md-6">
        <h2 class="text-success">{{dataTilte | async}}</h2>
        <table class="table table-bordered">
          <thead>
            <tr class="bg-dark text-white">
              <th>#</th>
              <th>Id</th>
              <th>Name</th>
              <th>Price</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody *ngIf="!loader">
            <tr *ngFor="let item of products; let i = index">
              <td>{{i + 1}}</td>
              <td>{{item.pid}}</td>
              <td>{{item.name}}</td>
              <td>{{item.price}}</td>
              <td>
                <i (click)="editProducts(i)" class="fa fa-pencil mr-3 text-success"></i>
                <i (click)="delProducts(i)" class="fa fa-trash text-danger"></i>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="text-center" *ngIf="loader">
          <div class="spinner-border text-warning" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
